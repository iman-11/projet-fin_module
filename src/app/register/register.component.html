

<section class="vh-100" style="margin-top: 50px;background-color: white;" *ngIf="!authresponse.mfaEnabled" > 
  <div class="container py-5 h-100">
    <div class="row d-flex align-items-center justify-content-center h-100">
      <div class="col-md-8 col-lg-7 col-xl-6">
        <img src="./assets/images/Mobile-login-Cristina.jpg" class="img-fluid" alt="Phone image">
      </div>
      <div class="col-md-7 col-lg-2 col-xl-5 offset-xl-1">
        <p class="mb-4 text-center" style="color: black;">Saisissez vos informations pour continuer.</p>

        <form [formGroup]="formregister" (ngSubmit)="handleregister()">
          <div class="form-outline mb-4">
            <input type="text" id="form1Example11" class="form-control form-control-lg" formControlName="firstname"/>
            <label class="form-label" for="form1Example13">FirstName</label>
          </div>
          <div class="form-outline mb-4">
            <input type="text" id="form1Example12" class="form-control form-control-lg" formControlName="lastname"/>
            <label class="form-label" for="form1Example13">LastName</label>
          </div>

          <div class="form-outline mb-4">
            <input type="email" id="form1Example13" class="form-control form-control-lg" formControlName="email"/>
            <label class="form-label" for="form1Example13">Email</label>
          </div>

          <div class="form-outline mb-4">
            <input type="password" id="form1Example14" class="form-control form-control-lg" formControlName="password"/>
            <label class="form-label" for="form1Example23">Password</label>
          </div>

          <div class="form-outline mb-4">
            <input type="password" id="form1Example15" class="form-control form-control-lg" formControlName="repeatpassword"/>
            <label class="form-label" for="form1Example23">Repeat Password</label>
          </div>

         <!-- ... Autres éléments du formulaire ... -->
        
        
        <div class="form-outline mb-4">
          <select class="form-select form-select-lg" formControlName="role" (change)="onUserTypeChange($event)">
            <option value="PATIENT">Je suis un patient</option>
            <option value="DOCTOR">Je suis un docteur</option>
          </select>
          <label class="form-label" for="userType">Choisissez votre type d'utilisateur</label>
        </div>
        
        
<!-- ... Autres éléments du formulaire ... -->


<div class="d-flex  align-items-center mb-4">
  <input
    id="rememberMe"
    name="rememberMe"
    type="checkbox"
    formControlName="mfaEnabled"
  >
  <label class="form-check-label" for="rememberMe">Enable 2FA (Two Factors Authentication)</label>
</div>


<!-- 
          <div class="d-flex justify-content-between align-items-center mb-4">
            <div class="form-check">
              <input class="form-check-input" type="checkbox" value="" id="acceptTerms" formControlName="acceptTerms"/>
              <label class="form-check-label" for="acceptTerms">J'accepte les Conditions d'Utilisation </label>
            </div>
          </div> -->


          <button type="submit" style="background-color: #80d0c7; justify-content: center;" class="btn btn-primary btn-lg btn-block">Sign up</button>
       
        

          <div class="d-flex justify-content-around align-items-center mb-4">
            <a href="#!">J'ai déjà un compte</a>
          </div>
          <button type="submit" style="background-color: #80d0c7;" class="btn btn-primary btn-lg btn-block">Sign in</button>
        </form>
      </div>
    </div>
  </div>
</section>

<div style="height: 250px;">


</div>

<div class="container1" *ngIf="authresponse?.mfaEnabled">

  <div class="success-message-panel" *ngIf="message">
    <div class="success-icon">&#10004;</div>
    <div class="success-message">{{message}}</div>
  </div>

  <h2>Set Up Two-Factor Authentication</h2>
  <div class="qr-code">
    <img [src]="authresponse.secretImageUri" alt="QR Code">
  </div>
  <div class="form-group">
    <label for="validationCode">Enter 6 digits Validation Code Generated by the app</label>
    <input
      type="text"
      id="validationCode"
      name="validationCode"
      required
      [(ngModel)]="otpCode"
      
    >
  </div>
  <button
  type="button"
  (click)="verifyTfa()"
  [class.button-disabled]="otpCode.length < 6"

  
>Verify code</button>
</div>